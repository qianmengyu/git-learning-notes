# 三、查看历史仓库

提交应该包含日期，标题，内容。且提交应该频繁，说明尽可能详细。

为了把握这些，我们应该首先能观察现有提交：

·Git log
![image](https://user-images.githubusercontent.com/55593483/225320736-b5a8da13-4407-4fdf-b468-a5b3156c700e.png)


显示有关现有提交的信息，

·Git show

显示有关给定提交的信息，向其提交对应SHA码即可查看

## 3\.1  git log

显示有关现有提交的信息

$ git log

·左下角的：表明有很多还，可以按J或者↓下行一行，K或↑上行一行

·变成（END）时表明到达底部

·按Q离开分页器

在[Less](https://en.wikipedia.org/wiki/Less_(Unix))中导航可能会有点奇怪。以下是一些有用的键：

- 向下滚动__，__按
	- j或 *一次*↓下移一行
	- d移动页面屏幕的一半
	- f移动一整页屏幕
- __向上__滚动，按
	- k或↑一次向上移动一行
	- u移动页面屏幕的一半
	- b移动一整页屏幕
- 按q退出__日志__（返回到常规命令提示符）

默认*情况下*，此命令显示：

- SHA
- 作者
- 日期
- 和消息

\.\.\.存储库中的每个提交。我强调 Git 显示的“默认”部分，因为该git log命令可以显示比这更多的信息。

Git 使用命令行分页器 Less 来分页浏览所有信息。Less 的重要键是：

- 向下滚动一行，使用j或↓
- 向上滚动一行，使用k或↑
- 要向下滚动一页，请使用空格键或 Page Down 按钮
- 向上滚动一页，使用b或 Page Up 按钮
- 退出，使用q

### 3\.1\.2  git log \-\-oneline：输出简略一行显示

可用于更改它显示存储库信息的方式
![image](https://user-images.githubusercontent.com/55593483/225320804-bfa0a004-07b9-4048-b88e-c39c73f2168e.png)


右侧是加入了\-\-oneline指令后。这个命令：

- 每行列出一个提交
- 显示提交的 SHA 的前 7 个字符
- 显示提交的消息
- __SHA__ \-git log将显示每个提交的完整 SHA。每个 SHA 都是唯一的，所以我们不需要查看*整个*SHA。只要知道前 6\-8 个字符，我们就可以过得很好。如果我们可以节省一些空间并仅显示 SHA 的前 5 个左右字符，那不是很好吗？
- __作者__\-git log输出显示*每个提交*的提交作者！对于有多个人一起协作的其他存储库，它可能会有所不同，但对于这个，只有一个人进行所有提交，因此提交作者对于所有人来说都是相同的。我们需要见每一个的作者吗？如果我们想隐藏这些信息怎么办？
- __日期__\- 默认情况下，git log将显示每个提交的日期。但是我们真的关心提交的日期吗？知道日期有时可能很重要，但通常知道日期并不重要，在很多情况下可以忽略。有没有办法可以隐藏它以节省空间？
- __提交消息__\- 这是提交消息中最重要的部分之一\.\.\.\.\.\.我们通常总是希望看到这个

我们在这里可以做些什么来不浪费大量空间并使输出更小？我们可以使用一个__标志__。

### 3\.1\.3  git log \-\-stat :显示更改的文件以及对应更改行数

$ git log \-\-stat

可用于显示提交中已更改的文件，以及已添加或删除的行数。标志是\-\-stat（“stat”是“statistics”的缩写）
![image](https://user-images.githubusercontent.com/55593483/225320853-9734ea13-c7e0-4311-bb71-5f47062af95e.png)


对比，右侧是—stat

### 3\.1\.4  git log \-p：显示实际更改

可用于显示对文件所做的实际更改

![image](https://user-images.githubusercontent.com/55593483/225320898-5fa0a12c-2262-4656-9124-ec61a7e0fda1.png)

图中绿色的5行即为此次添加的代码。

快速回顾一下git log \-p输出：

- 🔵 \- 正在显示的文件
- 🔶 \- 文件第一个版本的哈希值和文件第二个版本的哈希值
	- 通常不重要，因此可以安全地忽略
- ❤️ \- 文件的旧版本和当前版本
- 🔍 \- 添加文件的行以及有多少行
	- \-15,83表示旧版本（由 表示\-）从第 15 行开始，文件有 83 行
	- \+15,85表示当前版本（由 表示\+）从第 15 行开始，现在有 85 行……这 85 行显示在下面的补丁
- ✏️ \- 提交中所做的实际更改
	- 以减号 \( \) 开头的红色行\-位于文件的原始版本中，但已被提交删除
	- 以加号 \( \) 开头的绿色\+行是提交中添加的新行

git log \-p \-w将显示补丁信息，但不会突出显示仅发生空白更改的行。

### 3\.1\.5  git log \-p SHA码

命令将从该提交开始，将显示在提供的 SHA之前所做的所有提交。

## 3\.2  git show

显示最近的提交，也可以添加SHA码

默认情况下，git show显示：

- 提交
- 作者
- 日期
- 提交消息
- 补丁信息

git show可以与我们看过的大多数其他标志结合使用：

- \-\-stat\- 显示更改了多少文件以及添加/删除的行数
- \-p或\-\-patch\- 这是默认值，但如果\-\-stat使用，补丁将不会显示，所以通过\-p再次添加它
- \-w\- 忽略对空格的更改

![image](https://user-images.githubusercontent.com/55593483/225321002-5bf8b4fc-cc80-4dea-b38b-5eed2205712b.png)

